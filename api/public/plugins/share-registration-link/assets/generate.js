!function(e,t,a){"use strict";t.render(e.createElement(()=>{const[t,r]=e.useState([]),[c,l]=e.useState(0),[n,s]=e.useState(0);e.useEffect(()=>{(async()=>{const e=await a.fetch.get("/user/reg-links");r(e.records),l(e.sharer),s(e.sharee)})()},[]);return e.createElement("div",{className:"card card-primary card-outline"},e.createElement("div",{className:"card-header"},e.createElement("h3",{className:"card-title"},"分享注册链接")),e.createElement("div",{className:"card-body"},e.createElement("p",null,"分享注册链接，当新用户使用此链接时，您将获得 ",c," 积分。 同时新用户可获得 ",n," 积分。"),t.length>0?e.createElement(e.Fragment,null,e.createElement("p",null,"可用的链接："),e.createElement("ul",{style:{wordWrap:"break-word"}},t.map(t=>e.createElement("li",{key:t.id},e.createElement("span",{className:"mr-1"},t.url),e.createElement("a",{href:"#",onClick:()=>(async e=>{const{id:t}=e;await a.fetch.del("/user/reg-links/"+t),r(e=>e.filter(e=>e.id!==t))})(t)},"删除"))))):"还没有已生成的链接。"),e.createElement("div",{className:"card-footer"},e.createElement("button",{className:"btn btn-primary",onClick:async()=>{const{data:{record:e}}=await a.fetch.post("/user/reg-links");r(t=>[...t,e])}},"生成新链接")))},null),document.querySelector("#registration-links"))}(React,ReactDOM,blessing);
